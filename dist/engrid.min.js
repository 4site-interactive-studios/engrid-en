/*!
 * 
 *                ((((
 *          ((((((((
 *       (((((((
 *     (((((((           ****
 *   (((((((          *******
 *  ((((((((       **********     *********       ****    ***
 *  ((((((((    ************   **************     ***    ****
 *  ((((((   *******  *****   *****        *     **    ******        *****
 *  (((   *******    ******   ******            ****  ********   ************
 *      *******      *****     **********      ****    ****     ****      ****
 *    *********************         *******   *****   ****     ***************
 *     ********************            ****   ****    ****    ****
 *                 *****    *****   *******  *****   *****     *****     **
 *                *****     *************    ****    *******     **********
 *
 *  ENGRID PAGE TEMPLATE ASSETS
 *
 *  Date: Wednesday, August 21, 2024 @ 11:40:17 ET
 *  By: fernando
 *  ENGrid styles: v0.19.1
 *  ENGrid scripts: custom
 *
 *  Created by 4Site Studios
 *  Come work with us or join our team, we would love to hear from you
 *  https://www.4sitestudios.com/en
 *
 */(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}class n{constructor(){throw new Error("This class cannot be instantiated.")}static get debug(){return!!this.getOption("debug")}static getUrlParameter(e){const t=new URLSearchParams(window.location.search);if(e.endsWith("[]")){let n=[];return t.forEach(((t,r)=>{r.startsWith(e.replace("[]",""))&&n.push(new Object({[r]:t}))})),n.length>0?n:null}return t.has(e)?t.get(e)||!0:null}static getField(e){return document.querySelector(`[name="${e}"]`)}static setBodyData(e,t){const n=document.querySelector("body");"boolean"!=typeof t||!1!==t?n.setAttribute(`data-engrid-${e}`,t.toString()):n.removeAttribute(`data-engrid-${e}`)}static getBodyData(e){return document.querySelector("body").getAttribute(`data-engrid-${e}`)}static hasBodyData(e){return document.querySelector("body").hasAttribute(`data-engrid-${e}`)}static getOption(e){return window[e]||null}static cleanAmount(e){const t=e.replace(/[^0-9,\.]/g,"").split(/[,.]+/),n=e.replace(/[^.,]/g,"").split("");if(1===t.length)return parseInt(t[0])||0;if(t.map(((e,n)=>n>0&&n+1!==t.length&&3!==e.length)).includes(!0))return 0;if(n.length>1&&!n.includes("."))return 0;if([...new Set(n.slice(0,-1))].length>1)return 0;if(t[t.length-1].length<=2){const e=t.pop()||"00";return parseInt(e)>0?parseFloat(Number(parseInt(t.join(""))+"."+e).toFixed(2)):parseInt(t.join(""))}return parseInt(t.join(""))}static formatDate(e,t="MM/DD/YYYY"){const n=e.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/");return t.replace(/YYYY/g,n[2]).replace(/MM/g,n[0]).replace(/DD/g,n[1]).replace(/YY/g,n[2].substr(2,2))}static checkNested(e,...t){for(let n=0;n<t.length;n++){if(!e||!e.hasOwnProperty(t[n]))return!1;e=e[t[n]]}return!0}static deepMerge(e,t){for(const r in t)t[r]instanceof Object&&Object.assign(t[r],n.deepMerge(e[r],t[r]));return Object.assign(e||{},t),e}static getCurrencySymbol(){const e=n.getField("transaction.paycurrency");if(e){const t="SELECT"===e.tagName?e.options[e.selectedIndex]:e;if(t.dataset.currencySymbol)return t.dataset.currencySymbol;return{USD:"$",EUR:"€",GBP:"£",AUD:"$",CAD:"$",JPY:"¥"}[e.value]||"$"}return window.CurrencySymbol||"$"}static getCurrencyCode(){const e=n.getField("transaction.paycurrency");return e?e.value||"USD":window.CurrencyCode||"USD"}}class r{constructor(){this.setDataAttributes()}setDataAttributes(){n.checkNested(window,"pageJson","pageType")&&n.setBodyData("page-type",window.pageJson.pageType),n.setBodyData("currency-code",n.getCurrencyCode());const e=document.querySelector(".en__field--donationAmt .en__field__item--other");e&&e.setAttribute("data-currency-symbol",n.getCurrencySymbol())}}class o{constructor(){var e,r,o;e=this,o=!1,(r=t(r="isOneClickDonation"))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,this.isOneClickDonation=!!n.getField("donationLogId"),"true"===n.getUrlParameter("debug")?window.debug=!0:window.debug=!1,"loading"!==document.readyState?this.isOneClickDonation&&this.runOnOneClickDonation():document.addEventListener("DOMContentLoaded",(()=>{this.isOneClickDonation&&this.runOnOneClickDonation()}))}static log(e){return n.debug&&console.log("%c 4️⃣ %s","color: #fefefe; background-color: #333; font-size: 1.2em; padding: 4px; border-radius: 2px; font-family: monospace;",e)}runOnOneClickDonation(){o.log("One Click Donation Page");const e=()=>window.CurrencyPosition&&"right"===window.CurrencyPosition.toLowerCase()?"right":"left",t=()=>{if(!window.SubmitLabel)return;const e=document.querySelector(".eaSubmitButton");e&&(e.value=window.SubmitLabel.replace("$AMOUNT",n.cleanAmount((()=>{const e=document.querySelector(".enDonationAmount__buttons input:checked");if(!e)return"0";if("other"===e.value){const e=n.getField("transaction.donationAmt.other");if(e)return e.focus(),e.value}return e.value})())).replace("$CURRENCY",n.getCurrencySymbol()||""))};n.setBodyData("page-type","one-click-donation"),new r;let i=document.querySelectorAll(".enDonationAmount__buttons .en__field__item");const a=n.getCurrencySymbol()||"";i.forEach((n=>{const r=n.querySelector("label");r&&!isNaN(r.innerText)&&(r.innerText="left"===e()?a+r.innerText:r.innerText+a);const o=n.querySelector("input");if(o&&"transaction.donationAmt.other"===o.name)o.addEventListener("keyup",(e=>{t()}));else{const e=e=>{window.setTimeout((()=>{t()}),110)};r.addEventListener("click",e),o.addEventListener("change",e)}}));const c=document.querySelector(".en__field__item--other");c&&(c.setAttribute("data-currency-symbol",n.getCurrencySymbol()),c.setAttribute("data-currency-position",e())),t()}}new o})();